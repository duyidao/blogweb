import{r as f,o as g,c as y,e,F as B,_ as x,s as C,u as _,j as v,d as A,p as S,l as k}from"./index-BGh0r5GR.js";const L={__name:"oneAndAll",setup(p){const a=f([]),r=d=>{Array.from(d.target.files).forEach(t=>{a.value.push(t)})},c=async()=>{let d=new FormData;a.value.forEach(t=>{d.append(t.name+"file",t),console.log("通过axios发请求，文件：",t.name)})};return(d,t)=>(g(),y(B,null,[e("input",{type:"file",name:"",id:"",multiple:"",onChange:r},null,32),e("button",{onClick:c},"提交")],64))}},z={class:"ifrname-box"},R={class:"input"},F={class:"jindu"},w={class:"progress"},I={class:"progress-text"},$={__name:"slice",props:{size:{type:Number,default:0}},setup(p){const a=f({}),r=f(0),{size:c}=p,d=s=>{a.value={},r.value=0,a.value=s.target.files[0]},t=async()=>{let s=0,o=a.value.size,m=new FormData;const u=setInterval(()=>{m.append(a.value.name,a.value.slice(s,s+c)),console.log("共"+o+"大小的文件，已上传了"+s+"大小的文件，占比"+r.value+"%"),s+=c,r.value=Math.min(s/o*100,100),s>=o&&clearInterval(u)},1e3)};return(s,o)=>(g(),y("div",z,[e("div",R,[e("input",{type:"file",name:"",id:"",multiple:"",onChange:d},null,32),e("button",{onClick:t},"提交")]),e("div",F,[e("div",w,[e("div",{class:"progress-bar",style:C({width:_(r).toFixed(2)+"%"})},null,4)]),e("div",I,v(_(r).toFixed(2))+"%",1)])]))}},T=x($,[["__scopeId","data-v-61ea1c15"]]),U={class:"ifrname-box"},j={class:"input"},E={__name:"breakpoint",setup(p){const a=f({}),r=f(0),c=t=>{a.value=t.target.files[0]},d=async()=>{let t=2097152,s=localStorage.getItem(a.value.name)||0,o=new FormData,m=a.value.size;localStorage.setItem(a.value.name,s),setInterval(()=>{o.append(a.value.name,a.value.slice(s,s+t)),s+=t,r.value=Math.min(s/m*100,100)},1e3)};return(t,s)=>(g(),y("div",U,[e("div",j,[e("input",{type:"file",name:"",id:"",multiple:"",onChange:c},null,32),e("button",{onClick:d},"提交")])]))}},i=p=>(S("data-v-b7796e18"),p=p(),k(),p),N={class:"ifrname-box"},M={class:"upload-box"},O=i(()=>e("div",{class:"iframe-box-title"},"前置知识",-1)),V={class:"list-style-circle"},J={class:"flex-column"},q=i(()=>e("span",null,"file",-1)),G={class:"content"},H={class:"flex-column"},K=i(()=>e("span",null,"blob",-1)),P={class:"content"},Q={class:"flex-column"},W=i(()=>e("span",null,"formData",-1)),X={class:"flex-column"},Y={class:"flex-column-fileReader"},Z=i(()=>e("span",null,"fileReader",-1)),ee={class:"flex"},ae={class:"",for:"readAsText"},te=i(()=>e("i",null,"readAsText",-1)),se={class:"",for:"readAsArrayBuffer"},ne=i(()=>e("i",null,"readAsArrayBuffer",-1)),le={class:"",for:"readAsDataURL"},oe=i(()=>e("i",null,"readAsDataURL",-1)),ie={class:"",for:"readAsBinaryString"},re=i(()=>e("i",null,"readAsBinaryString",-1)),ce={class:"content-fileReader"},de={class:"upload-box"},ue=i(()=>e("div",{class:"iframe-box-title"},"单文件上传",-1)),_e={class:"upload-box"},fe=i(()=>e("div",{class:"iframe-box-title"},"切片上传",-1)),pe={class:"upload-box"},me=i(()=>e("div",{class:"iframe-box-title"},"断点续传",-1)),he={__name:"index",setup(p){const a=f({}),r=u=>{a.value=u.target.files[0]},c=f({}),d=u=>{const n=u.target.files[0],l=new Blob([n],{type:n.type});c.value={size:l.size,type:l.type,name:n.name}},t=f({}),s=u=>{t.value=new FormData,t.value.append("file",u.target.files[0]),t.value.append("username","John"),t.value.append("age",30)},o=f(null),m=(u,n)=>{let l=u.target.files[0];const b=new FileReader;switch(b.addEventListener("load",D=>{const h=D.target.result;switch(console.log("fileData",h),n){case"readAsText":o.value=h;break;case"readAsArrayBuffer":o.value={byteLength:h.byteLength,detached:h.detached,maxByteLength:h.maxByteLength};break;case"readAsDataURL":o.value=h;break;case"readAsBinaryString":o.value=h;break}o.value=h}),n){case"readAsText":b.readAsText(l);break;case"readAsArrayBuffer":b.readAsArrayBuffer(l);break;case"readAsDataURL":b.readAsDataURL(l);break;case"readAsBinaryString":b.readAsBinaryString(l);break}};return(u,n)=>(g(),y("div",N,[e("div",M,[O,e("ul",V,[e("li",J,[e("div",null,[q,e("input",{type:"file",name:"file",id:"file",onChange:r},null,32),e("div",G,[e("div",null,"文件名: "+v(_(a).name||"-"),1),e("div",null,"文件类型: "+v(_(a).type||"-"),1),e("div",null,"文件大小: "+v(_(a).size||0)+"bytes",1)])])]),e("li",H,[e("div",null,[K,e("input",{type:"file",name:"blob",id:"blob",onChange:d},null,32),e("div",P,[e("div",null,"文件名: "+v(_(c).name),1),e("div",null,"文件类型: "+v(_(c).type),1),e("div",null,"文件大小: "+v(_(c).size)+"bytes",1)])])]),e("li",Q,[e("div",null,[W,e("input",{type:"file",name:"formData",id:"formData",onChange:s},null,32)])]),e("li",X,[e("div",Y,[Z,e("div",ee,[e("label",ae,[te,e("input",{type:"file",name:"readAsText",id:"readAsText",onChange:n[0]||(n[0]=l=>m(l,"readAsText"))},null,32)]),e("label",se,[ne,e("input",{type:"file",name:"readAsArrayBuffer",id:"readAsArrayBuffer",onChange:n[1]||(n[1]=l=>m(l,"readAsArrayBuffer"))},null,32)]),e("label",le,[oe,e("input",{type:"file",name:"readAsDataURL",id:"readAsDataURL",onChange:n[2]||(n[2]=l=>m(l,"readAsDataURL"))},null,32)]),e("label",ie,[re,e("input",{type:"file",name:"readAsBinaryString",id:"readAsBinaryString",onChange:n[3]||(n[3]=l=>m(l,"readAsBinaryString"))},null,32)])]),e("div",ce,v(_(o)),1)])])])]),e("div",de,[ue,A(L)]),e("div",_e,[fe,A(T,{size:10*1024*1024})]),e("div",pe,[me,A(E)])]))}},be=x(he,[["__scopeId","data-v-b7796e18"]]);export{be as default};
