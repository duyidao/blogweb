import{_ as p}from"./index-BOjCEsfC.js";import{_ as g,r as a,o as u,c as f,a as l,j as h,E as m}from"./index-BMgdCasK.js";import"./index-Ba3FVsYc.js";const v={setup(){const c=a(""),n=a({size:0,blobsize:0}),e=a(null),o=a(null);return{imgUrl:c,imgInfo:n,imgRef:e,compress:o,onChangeFn:i=>{let s=new FileReader;s.readAsDataURL(i),s.onload=_=>{c.value=s.result,n.value.size=_.total;let t=document.createElement("canvas");setTimeout(()=>{t.height=e.value.height,t.width=e.value.width,o.value.appendChild(t),t.getContext("2d").drawImage(e.value,0,0,e.value.width,e.value.height),t.toBlob(r=>{n.value.blobsize=r.size,new FormData().append("file",r)},"image/jpeg",.4)},1e3)}}}}},z={ref:"compress",class:"compress"},C={class:"compress-upload"},w={class:"info"},x=["src"];function b(c,n,e,o,d,i){const s=p;return u(),f("div",z,[l("div",C,[h(s,{onChange:o.onChangeFn},null,8,["onChange"])]),l("div",w,"原图大小："+m(o.imgInfo.size)+"，压缩后大小："+m(o.imgInfo.blobsize||0),1),l("img",{ref:"imgRef",src:o.imgUrl},null,8,x)],512)}const D=g(v,[["render",b],["__scopeId","data-v-6c40d415"]]);export{D as default};
