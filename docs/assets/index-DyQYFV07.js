define(["exports","./index-CfXhc3Ls","./index-D2dCyH29","./compress-CsfBFKni","./effect-CbHB8Sih","./vender-CF49NVAq"],function(f,y,g,B,p,e){"use strict";var h=document.createElement("style");h.textContent=`.container[data-v-ef5b11cc]{display:flex;width:100%}.container .mainboard[data-v-ef5b11cc]{position:relative}.container .mainboard #sign[data-v-ef5b11cc]{border:1px solid #000}.container .mainboard .floatboard[data-v-ef5b11cc]{position:absolute}.container .signboard[data-v-ef5b11cc]{display:flex;flex-direction:column;margin-left:40px}.container .signboard #sign[data-v-ef5b11cc]{width:400px;height:300px;border:1px solid #000}@media screen and (max-width: 768px){.container[data-v-ef5b11cc]{flex-direction:column}.container .mainboard[data-v-ef5b11cc],.container .mainboard #main[data-v-ef5b11cc]{width:100%!important}.container .signboard[data-v-ef5b11cc]{margin-left:0}.container .signboard #sign[data-v-ef5b11cc]{width:100%!important;height:25rem;margin-top:.625rem}}
`,document.head.appendChild(h);const I=c=>(e.pushScopeId("data-v-ef5b11cc"),c=c(),e.popScopeId(),c),M={class:"iframe-box box"},N={style:{display:"flex","flex-direction":"column"}},V={class:"container"},C={class:"mainboard"},v=["width","height"],k=[I(()=>e.createBaseVNode("canvas",{id:"float",width:"200",height:"80"},null,-1))],S={class:"signboard"},z={__name:"index",setup(c){let d=null,b=null,r=null,a=null,m=null,l=null;const n={baseUrl:g.canvasImg,size:{width:600,height:400}},_=e.ref(0),w=e.ref(0),x=()=>{const t=new Image;t.src=n.baseUrl,t.onload=()=>{l.drawImage(t,0,0,n.size.width,n.size.height)}};e.onMounted(()=>{m=document.getElementById("main"),l=m.getContext("2d"),x()});function U(){l.drawImage(d,_.value,w.value,200,80);let t=m.toDataURL("image/png"),o=document.createElement("a");o.href=t,o.download="canvas.png",o.click()}function T(){l.clearRect(0,0,n.size.width,n.size.height),x()}e.onMounted(()=>{d=document.getElementById("float"),b=d.getContext("2d")}),e.onMounted(()=>{r=document.getElementById("sign"),a=r.getContext("2d")});let u=!1;function D(t){u=!0;const{offsetX:o,offsetY:i}=t;console.log("offsetX, offsetY",o,i),a.moveTo(o,i),a.strokeStyle="#000"}function L(t){if(!u)return;const{offsetX:o,offsetY:i}=t;a.lineTo(o,i),a.stroke()}function R(){u=!1,a.stroke()}function X(){a.clearRect(0,0,400,400)}function Y(){b.drawImage(r,0,0,200,80)}return e.onMounted(()=>{p.codeList.value=[""]}),e.onUnmounted(()=>{p.codeList.value=[""]}),(t,o)=>{const i=y.__unplugin_components_0;return e.openBlock(),e.createElementBlock("div",M,[e.createVNode(i,{title:"文件签名与画板功能",column:"",flowImg:e.unref(B.flowImg)},{default:e.withCtx(()=>[e.createBaseVNode("div",N,[e.createBaseVNode("div",V,[e.createBaseVNode("div",C,[e.createBaseVNode("canvas",{id:"main",width:n.size.width,height:n.size.height},null,8,v),e.createBaseVNode("div",{class:"floatboard",style:e.normalizeStyle({left:`${e.unref(_)}px`,top:`${e.unref(w)}px`}),onMounsedown:o[0]||(o[0]=(...s)=>t.dragMousedown&&t.dragMousedown(...s)),onMouseup:o[1]||(o[1]=(...s)=>t.dragMouseup&&t.dragMouseup(...s)),onMousemove:o[2]||(o[2]=(...s)=>t.dragMousemove&&t.dragMousemove(...s))},k,36)]),e.createBaseVNode("div",S,[e.createBaseVNode("canvas",{id:"sign",onMousedown:D,onMousemove:L,onMouseup:R},null,32),e.createBaseVNode("div",{style:{display:"flex","margin-top":"1rem"}},[e.createBaseVNode("button",{style:{"margin-right":"1rem"},onClick:Y},"确认"),e.createBaseVNode("button",{onClick:X},"清除")])])]),e.createBaseVNode("div",{style:{display:"flex","margin-top":"1rem"}},[e.createBaseVNode("button",{style:{"margin-right":"1rem"},onClick:U},"保存"),e.createBaseVNode("button",{onClick:T},"清除")])])]),_:1},8,["flowImg"])])}}},E=g._export_sfc(z,[["__scopeId","data-v-ef5b11cc"]]);f.default=E,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
