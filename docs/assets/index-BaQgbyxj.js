define(["exports","./index-kY_zZjMK","./index-uafER6--","./compress-CsfBFKni","./effect-DvRdfHYc","./vender-qwA9zub-"],function(f,M,g,x,p,t){"use strict";var h=document.createElement("style");h.textContent=`.container[data-v-84f703c4]{display:flex;width:100%}.container .mainboard[data-v-84f703c4]{position:relative}.container .mainboard #sign[data-v-84f703c4]{border:1px solid #000}.container .mainboard .floatboard[data-v-84f703c4]{position:absolute}.container #sign[data-v-84f703c4]{border:1px solid #000}@media screen and (max-width: 768px){.container[data-v-84f703c4]{flex-direction:column}.container .mainboard[data-v-84f703c4],.container .mainboard #main[data-v-84f703c4]{width:100%!important}.container .signboard #sign[data-v-84f703c4]{width:100%!important;margin-top:.625rem}}
`,document.head.appendChild(h);const B=l=>(t.pushScopeId("data-v-84f703c4"),l=l(),t.popScopeId(),l),C={class:"iframe-box box"},N={class:"container"},V={class:"mainboard"},k=["width","height"],y=[B(()=>t.createBaseVNode("canvas",{id:"float",width:"200",height:"80"},null,-1))],v={class:"signboard"},S={__name:"index",setup(l){let d=null,_=null,u=null,a=null,m=null,c=null;const n={baseUrl:g.canvasImg,size:{width:600,height:400}},w=t.ref(0),b=t.ref(0),I=()=>{const o=new Image;o.src=n.baseUrl,o.onload=()=>{c.drawImage(o,0,0,n.size.width,n.size.height)}};t.onMounted(()=>{m=document.getElementById("main"),c=m.getContext("2d"),I()});function E(){c.drawImage(d,w.value,b.value,200,80);let o=m.toDataURL("image/png"),e=document.createElement("a");e.href=o,e.download="canvas.png",e.click()}function U(){c.clearRect(0,0,n.size.width,n.size.height),I()}t.onMounted(()=>{d=document.getElementById("float"),_=d.getContext("2d")}),t.onMounted(()=>{u=document.getElementById("sign"),a=u.getContext("2d")});let r=!1;function T(o){r=!0;const{offsetX:e,offsetY:i}=o;console.log("offsetX, offsetY",e,i),a.moveTo(e,i),a.strokeStyle="#000"}function D(o){if(!r)return;const{offsetX:e,offsetY:i}=o;a.lineTo(e,i),a.stroke()}function L(){r=!1,a.stroke()}function R(){a.clearRect(0,0,400,400)}function X(){_.drawImage(u,0,0,200,80)}return t.onMounted(()=>{p.codeList.value=[""]}),t.onUnmounted(()=>{p.codeList.value=[""]}),(o,e)=>{const i=M.__unplugin_components_0;return t.openBlock(),t.createElementBlock("div",C,[t.createVNode(i,{title:"文件签名与画板功能",flowImg:t.unref(x.flowImg)},{default:t.withCtx(()=>[t.createBaseVNode("div",N,[t.createBaseVNode("div",V,[t.createBaseVNode("canvas",{id:"main",width:n.size.width,height:n.size.height},null,8,k),t.createBaseVNode("div",{class:"floatboard",style:t.normalizeStyle({left:`${t.unref(w)}px`,top:`${t.unref(b)}px`}),onMounsedown:e[0]||(e[0]=(...s)=>o.dragMousedown&&o.dragMousedown(...s)),onMouseup:e[1]||(e[1]=(...s)=>o.dragMouseup&&o.dragMouseup(...s)),onMousemove:e[2]||(e[2]=(...s)=>o.dragMousemove&&o.dragMousemove(...s))},y,36),t.createBaseVNode("button",{onClick:E},"保存"),t.createBaseVNode("button",{onClick:U},"清除")]),t.createBaseVNode("div",v,[t.createBaseVNode("canvas",{id:"sign",onMousedown:T,onMousemove:D,onMouseup:L},null,32),t.createBaseVNode("button",{onClick:X},"确认"),t.createBaseVNode("button",{onClick:R},"清除")])])]),_:1},8,["flowImg"])])}}},z=g._export_sfc(S,[["__scopeId","data-v-84f703c4"]]);f.default=z,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
