import{_ as g}from"./index-Cho0w-uj.js";import{_ as x,r as f,o as y,c as A,b as e,d as c,n as S,f as v,t as b,p as B,a as k}from"./index-Psvj6SS3.js";import"./index-DTC6sOaw.js";const L={class:"ifrname-box"},z={class:"upload-upload"},R={__name:"oneAndAll",setup(m){const a=f([]),d=_=>{a.value=[],Array.from(_).forEach(s=>{a.value.push(s)})},r=async()=>{let _=new FormData;a.value.forEach(s=>{_.append(s.name+"file",s),console.log("通过axios发请求，文件：",s.name)})};return(_,s)=>{const o=g;return y(),A("div",L,[e("div",z,[c(o,{needList:"",multiple:"",onChange:d})]),e("button",{onClick:r},"提交")])}}},F=x(R,[["__scopeId","data-v-23555382"]]),I={class:"ifrname-box"},$={class:"upload-upload"},w={class:"jindu"},U={class:"progress"},T={class:"progress-text"},E={__name:"slice",props:{size:{type:Number,default:0}},setup(m){const a=f({}),d=f(0),{size:r}=m,_=o=>{a.value={},d.value=0,a.value=o},s=async()=>{let o=0,t=a.value.size,u=new FormData;const p=setInterval(()=>{u.append(a.value.name,a.value.slice(o,o+r)),console.log("共"+t+"大小的文件，已上传了"+o+"大小的文件，占比"+d.value+"%"),o+=r,d.value=Math.min(o/t*100,100),o>=t&&clearInterval(p)},1e3)};return(o,t)=>{const u=g;return y(),A("div",I,[e("div",$,[c(u,{needList:"",onChange:_})]),e("button",{onClick:s},"提交"),e("div",w,[e("div",U,[e("div",{class:"progress-bar",style:S({width:v(d).toFixed(2)+"%"})},null,4)]),e("div",T,b(v(d).toFixed(2))+"%",1)])])}}},j=x(E,[["__scopeId","data-v-8f0f8b57"]]),N={class:"ifrname-box"},M={class:"upload-upload"},O={__name:"breakpoint",setup(m){const a=f({}),d=f(0),r=s=>{a.value=s},_=async()=>{let s=2097152,o=localStorage.getItem(a.value.name)||0,t=new FormData,u=a.value.size;localStorage.setItem(a.value.name,o),setInterval(()=>{t.append(a.value.name,a.value.slice(o,o+s)),o+=s,d.value=Math.min(o/u*100,100)},1e3)};return(s,o)=>{const t=g;return y(),A("div",N,[e("div",M,[c(t,{needList:"",onChange:r})]),e("button",{onClick:_},"提交")])}}},V=x(O,[["__scopeId","data-v-48feb73a"]]),C=m=>(B("data-v-072ac2e7"),m=m(),k(),m),J={class:"ifrname-box"},q={class:"upload-box"},G=C(()=>e("div",{class:"iframe-box-title"},"前置知识",-1)),H={class:"list-style-circle"},K={class:"flex-column"},P={class:"file"},Q={class:"upload-upload"},W={class:"content transition-color"},X={class:"flex-column"},Y={class:"upload-upload"},Z={class:"content transition-color"},ee={class:"flex-column"},ae={class:"upload-upload"},se={class:"flex-column"},oe={class:"flex-column-fileReader"},te={class:"upload-upload"},ne={class:"upload-upload"},le={class:"upload-upload"},ie={class:"upload-upload"},ce={class:"content-fileReader"},de={class:"upload-box"},re=C(()=>e("div",{class:"iframe-box-title"},"单文件上传",-1)),_e={class:"upload-box"},ue=C(()=>e("div",{class:"iframe-box-title"},"切片上传",-1)),pe={class:"upload-box"},ve=C(()=>e("div",{class:"iframe-box-title"},"断点续传",-1)),fe={__name:"index",setup(m){const a=f({}),d=p=>{a.value=p},r=f({}),_=p=>{const n=p,l=new Blob([n],{type:n.type});r.value={size:l.size,type:l.type,name:n.name}},s=f({}),o=p=>{s.value=new FormData,s.value.append("file",p),s.value.append("username","John"),s.value.append("age",30),console.log("formData.value",s.value)},t=f(null),u=(p,n)=>{let l=p.target.files[0];const i=new FileReader;switch(i.addEventListener("load",D=>{const h=D.target.result;switch(console.log("fileData",h),n){case"readAsText":t.value=h;break;case"readAsArrayBuffer":t.value={byteLength:h.byteLength,detached:h.detached,maxByteLength:h.maxByteLength};break;case"readAsDataURL":t.value=h;break;case"readAsBinaryString":t.value=h;break}t.value=h}),n){case"readAsText":i.readAsText(l);break;case"readAsArrayBuffer":i.readAsArrayBuffer(l);break;case"readAsDataURL":i.readAsDataURL(l);break;case"readAsBinaryString":i.readAsBinaryString(l);break}};return(p,n)=>{const l=g;return y(),A("div",J,[e("div",q,[G,e("ul",H,[e("li",K,[e("div",P,[e("div",Q,[c(l,{info:"上传文件，file类型",onChange:d})]),e("div",W,[e("div",null,"文件名: "+b(v(a).name||"-"),1),e("div",null,"文件类型: "+b(v(a).type||"-"),1),e("div",null,"文件大小: "+b(v(a).size||0)+"bytes",1)])])]),e("li",X,[e("div",null,[e("div",Y,[c(l,{info:"上传文件，blob类型",onChange:_})]),e("div",Z,[e("div",null,"文件名: "+b(v(r).name),1),e("div",null,"文件类型: "+b(v(r).type),1),e("div",null,"文件大小: "+b(v(r).size)+"bytes",1)])])]),e("li",ee,[e("div",null,[e("div",ae,[c(l,{info:"上传文件，formData类型",onChange:o})])])]),e("li",se,[e("div",oe,[e("div",te,[c(l,{info:"上传文件，fileReader类型readAsText",onChange:n[0]||(n[0]=i=>u(i,"readAsText"))})]),e("div",ne,[c(l,{info:"上传文件，fileReader类型readAsArrayBuffer",onChange:n[1]||(n[1]=i=>u(i,"readAsArrayBuffer"))})]),e("div",le,[c(l,{info:"上传文件，fileReader类型readAsDataURL",onChange:n[2]||(n[2]=i=>u(i,"readAsDataURL"))})]),e("div",ie,[c(l,{info:"上传文件，fileReader类型readAsBinaryString",onChange:n[3]||(n[3]=i=>u(i,"readAsBinaryString"))})]),e("div",ce,b(v(t)),1)])])])]),e("div",de,[re,c(F)]),e("div",_e,[ue,c(j,{size:10*1024*1024})]),e("div",pe,[ve,c(V)])])}}},ge=x(fe,[["__scopeId","data-v-072ac2e7"]]);export{ge as default};
