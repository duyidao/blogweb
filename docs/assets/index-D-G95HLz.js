import{_ as p}from"./index-4hTOADKg.js";import{_ as g,r as c,o as m,c as u,b as a,d as _,j as x,v as b,e as f,M as w,S as C,p as $,l as I,H as R}from"./index-BGWtDXtV.js";import"./index-DItuHSgU.js";const U={setup(){const l=c(""),o=c({size:0,blobsize:0}),e=c(null),t=c(null);return{imgUrl:l,imgInfo:o,imgRef:e,compress:t,onChangeFn:r=>{let s=new FileReader;s.readAsDataURL(r),s.onload=n=>{l.value=s.result,o.value.size=n.total;let i=document.createElement("canvas");setTimeout(()=>{i.height=e.value.height,i.width=e.value.width,t.value.appendChild(i),i.getContext("2d").drawImage(e.value,0,0,e.value.width,e.value.height),i.toBlob(d=>{o.value.blobsize=d.size,new FormData().append("file",d)},"image/jpeg",.4)},1e3)}}}}},y={ref:"compress",class:"compress"},D={class:"compress-upload"},F={class:"info transition-color"},S=["src"];function k(l,o,e,t,h,r){const s=p;return m(),u("div",y,[a("div",D,[_(s,{onChange:t.onChangeFn},null,8,["onChange"])]),a("div",F,"原图大小："+x(t.imgInfo.size)+"，压缩后大小："+x(t.imgInfo.blobsize||0),1),a("img",{ref:"imgRef",src:t.imgUrl},null,8,S)],512)}const z=g(U,[["render",k],["__scopeId","data-v-e1a3feed"]]),V={class:"tailor"},j={class:"tailor-upload"},B=["src"],H={__name:"tailor",setup(l){const o=c(""),e=c(null),t=c(null);c({imgWidth:0,imgHeight:0,canvasWidth:0,canvasHeight:0,scale:0,left:0,top:0});const h=r=>{let s=new FileReader;s.readAsDataURL(r),s.onload=()=>{o.value=s.result;let n=e.value.getContext("2d");setTimeout(()=>{let i=200/t.value.height*t.value.naturalHeight,v=200/t.value.width*t.value.naturalWidth;n.drawImage(t.value,0,0,v,i,0,0,200,200)},1e3)}};return(r,s)=>{const n=p;return m(),u("div",V,[a("div",j,[_(n,{onChange:h})]),a("div",null,[b(" 原图： "),a("img",{src:f(o),ref_key:"imgRef",ref:t},null,8,B)]),w(a("div",null,[b(" 裁剪： "),a("canvas",{ref_key:"canvasRef",ref:e,height:"200",width:"200"},null,512)],512),[[C,f(o)]])])}}},N=g(H,[["__scopeId","data-v-a87fa85d"]]),W="/blogweb/assets/js-CyVn7UDW.jpg",A={setup(){return{imgUrl:c(""),saveScreen:()=>{}}}},E=l=>($("data-v-bf493b6d"),l=l(),I(),l),L={class:"tailor"},T=E(()=>a("img",{src:W},null,-1));function M(l,o,e,t,h,r){return m(),u("div",L,[a("button",{onClick:o[0]||(o[0]=(...s)=>t.saveScreen&&t.saveScreen(...s))},"截图"),T])}const q=g(A,[["render",M],["__scopeId","data-v-bf493b6d"]]),G={class:"filter-upload"},J=["src"],K={__name:"filter",setup(l){const o=c(""),e=c(null),t=c(null),h=s=>{let n=new FileReader;n.readAsDataURL(s),n.onload=()=>{o.value=n.result}},r=()=>{const s=document.createElement("canvas");s.height=e.value.height||"400px",s.width=e.value.width,t.value.appendChild(s);let n=s.getContext("2d");n.drawImage(e.value,0,0,e.value.width,e.value.height);let i=n.getImageData(0,0,e.value.width,e.value.height),v=i.data.length;for(let d=0;d<v;d++)d%2===0&&(i.data[d]=0);n.clearRect(0,0,e.value.width,e.value.height),n.putImageData(i,0,0)};return(s,n)=>{const i=p;return m(),u("div",{ref_key:"filter",ref:t,class:"filter"},[a("div",G,[_(i,{onChange:h})]),a("img",{src:f(o),ref_key:"imgRef",ref:e},null,8,J),f(o)?(m(),u("button",{key:0,onClick:r}," 点我添加滤镜 ")):R("",!0)],512)}}},O=g(K,[["__scopeId","data-v-67347722"]]),P={class:"ifrname-box box"},Q={class:"box-item"},X=a("div",{class:"iframe-box-title"},"图片压缩",-1),Y={class:"box-item"},Z=a("div",{class:"iframe-box-title"},"页面截图",-1),ee={class:"box-item"},te=a("div",{class:"iframe-box-title"},"滤镜",-1),se={class:"box-item"},ae=a("div",{class:"iframe-box-title"},"图片裁剪",-1),ce={__name:"index",setup(l){return(o,e)=>(m(),u("div",P,[a("div",Q,[X,_(z)]),a("div",Y,[Z,_(q)]),a("div",ee,[te,_(O)]),a("div",se,[ae,_(N)])]))}};export{ce as default};
