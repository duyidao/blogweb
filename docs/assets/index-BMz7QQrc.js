import{_ as k}from"./index-wX38Kctz.js";import{_ as v,r as n,o as c,h as y,w,a as g,C as x,u as l,c as f,F as C,j as F,L as B,k as V}from"./index-boqNHSKg.js";import b from"./file-CYe6wFRq.js";import"./index-h9QRPmwE.js";import"./rem-cCMSN3q_.js";import"./index-D1u5yZDJ.js";const D={key:0,class:"box-info"},I={key:1,class:"loading"},N={__name:"index",setup(j){const o=n([]),d=async e=>{if(e.kind==="file")return e;e.children=[];const t=await e.entries();for await(const a of t){const r=await d(a[1]);e.children.push(r)}return e},u=n(!1),_=async()=>{try{u.value=!0;const e=await showDirectoryPicker();o.value=await d(e),u.value=!1,console.log("root.value",o.value)}catch(e){console.log("err",e)}},i=n(""),m=n("javascript"),p=n(null),h=async e=>{let t=o.value.children;for(let s=0;s<e.length;s++)s<e.length-1?t=t[e[s]].children:t=t[e[s]];const a=await t.getFile();m.value=a.type.split("/")[1]||a.name.split(".")[1];const r=new FileReader;r.onload=s=>{i.value=s.target.result,p.value.showCode=!0},r.readAsText(a,"utf-8")};return(e,t)=>{const a=k;return c(),y(a,{column:"",ref_key:"iframeBox",ref:p,class:"iframe-box box",needCode:!1,type:l(m),title:"文件夹获取",height:"600",modelValue:l(i),"onUpdate:modelValue":t[0]||(t[0]=r=>V(i)?i.value=r:null)},{default:w(()=>[g("button",{onClick:x(_,["stop"])},"获取文件夹"),l(u)?(c(),f("div",I," 加载中，请稍后... ")):(c(),f(C,{key:0},[l(o)&&l(o).children&&l(o).children.length?(c(),f("div",D,[F(b,{class:"file",items:l(o).children,onClick:h},null,8,["items"])])):B("",!0)],64))]),_:1},8,["type","modelValue"])}}},L=v(N,[["__scopeId","data-v-e0ec8338"]]);export{L as default};
