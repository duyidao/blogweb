import{_ as w}from"./index-BQKZimSG.js";import{_ as g,r as n,o as c,h as k,w as y,a as v,C as x,u as o,c as u,F as C,j as F,L as b,k as B}from"./index-DiFe4JqO.js";import I from"./file-DIGvlf_U.js";import"./index-CmmZnrMl.js";import"./rem-xC5CoqQM.js";import"./index-DLh32JCa.js";const V="/blogweb/assets/showDirectoryPicker-zHfn__NG.png",D={key:0,class:"box-info"},N={key:1,class:"loading"},H={__name:"index",setup(P){const s=n([]),d=async e=>{if(e.kind==="file")return e;e.children=[];const t=await e.entries();for await(const a of t){const r=await d(a[1]);e.children.push(r)}return e},f=n(!1),_=async()=>{try{f.value=!0;const e=await showDirectoryPicker();s.value=await d(e),f.value=!1,console.log("root.value",s.value)}catch(e){console.log("err",e)}},i=n(""),m=n("javascript"),p=n(null),h=async e=>{let t=s.value.children;for(let l=0;l<e.length;l++)l<e.length-1?t=t[e[l]].children:t=t[e[l]];const a=await t.getFile();m.value=a.type.split("/")[1]||a.name.split(".")[1];const r=new FileReader;r.onload=l=>{i.value=l.target.result,p.value.showCode=!0},r.readAsText(a,"utf-8")};return(e,t)=>{const a=w;return c(),k(a,{column:"",ref_key:"iframeBox",ref:p,class:"iframe-box box",needCode:!1,type:o(m),title:"文件夹获取",height:"600",flowImg:o(V),modelValue:o(i),"onUpdate:modelValue":t[0]||(t[0]=r=>B(i)?i.value=r:null)},{default:y(()=>[v("button",{onClick:x(_,["stop"])},"获取文件夹"),o(f)?(c(),u("div",N," 加载中，请稍后... ")):(c(),u(C,{key:0},[o(s)&&o(s).children&&o(s).children.length?(c(),u("div",D,[F(I,{class:"file",items:o(s).children,onClick:h},null,8,["items"])])):b("",!0)],64))]),_:1},8,["type","flowImg","modelValue"])}}},G=g(H,[["__scopeId","data-v-1c328dd6"]]);export{G as default};
