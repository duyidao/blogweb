define(["exports","./index-DlgzzseR","./vender-CF49NVAq","./file-DSPIPx8P","./index-BfVzJLus","./index-GPVW21Ic","./rem-Cqtq43AX","./index-BSjz60gr"],function(m,p,e,w,_,N,M,E){"use strict";var b=document.createElement("style");b.textContent=`.box[data-v-a3fd0aba]{width:100%}.box .box-file[data-v-a3fd0aba]{display:flex;justify-content:space-between;align-items:center;width:100%}.box .box-file .box-info[data-v-a3fd0aba]{max-height:500px;overflow-y:scroll}.box .box-file .box-info[data-v-a3fd0aba]:not(.showImg){width:100%}.box .box-file .box-info.showImg[data-v-a3fd0aba]{min-width:35%}.box .box-file .box-info .file[data-v-a3fd0aba]{width:100%}.box .box-file img[data-v-a3fd0aba]{width:400px;height:400px;object-fit:contain}.box .box-file video[data-v-a3fd0aba]{width:400px;height:400px;object-fit:contain}.box .loading[data-v-a3fd0aba]{color:var(--primary-info)}button[data-v-a3fd0aba]{margin:0 auto 20px}@media screen and (max-width: 768px){button[data-v-a3fd0aba]{margin:0 auto 1.25rem}.box .box-file[data-v-a3fd0aba]{flex-direction:column}.box .box-file .box-info[data-v-a3fd0aba]{max-height:31.25rem}.box .box-file img[data-v-a3fd0aba]{width:25rem;height:25rem;margin-top:2rem}}
`,document.head.appendChild(b);const v="/blogweb/assets/showDirectoryPicker-zHfn__NG.png",y={key:0,class:"box-file"},k={key:1,class:"loading"},B={__name:"index",setup(L){const l=e.ref([]),x=async a=>{if(a.kind==="file")return a;a.children=[];const t=await a.entries();for await(const o of t){const i=await x(o[1]);a.children.push(i)}return a},u=e.ref(!1),I=async()=>{try{u.value=!0;const a=await showDirectoryPicker();l.value=await x(a),u.value=!1}catch(a){console.warn("err",a)}},f=e.ref(""),s=e.ref("javascript"),d=e.ref(null),h=e.ref(null),c=e.ref(null),n=e.ref(!1),r=e.ref(!1),j=["vue","css","javascript","html","json","jsx"],g=["png","jpg","jpeg","gif","svg","avif","webp"],V=["mp4","akv","rmb","mov","avi","flv","wmv","mkv"],R=a=>{n.value=!1,r.value=!1;const t=new FileReader;t.onload=o=>{f.value=o.target.result,d.value.showCode=!0},t.readAsText(a,"utf-8")},D=a=>{d.value.showCode=!1,r.value=!1,n.value=!1;const t=new FileReader;t.readAsDataURL(a),t.onload=o=>{console.log("e",o),g.includes(s.value)?(h.value.src=o.target.result,n.value=!0):(r.value=!0,c.value.src=o.target.result,c.value.load(),c.value.play().catch(i=>{console.warn("自动播放被阻止:",i)}))}},F=async a=>{let t=l.value.children;for(let i=0;i<a.length;i++)i<a.length-1?t=t[a[i]].children:t=t[a[i]];if(!t.getFile)return;const o=await t.getFile();console.log("file",o),s.value=o.type.split("/")[1]||o.name.split(".")[1],j.includes(s.value)&&R(o),(g.includes(s.value)||V.includes(s.value))&&D(o)};return(a,t)=>{const o=p.__unplugin_components_0;return e.openBlock(),e.createBlock(o,{column:"",ref_key:"iframeBox",ref:d,class:"iframe-box box",needCode:!1,type:e.unref(s),title:"文件夹获取",height:"600",flowImg:e.unref(v),modelValue:e.unref(f),"onUpdate:modelValue":t[0]||(t[0]=i=>e.isRef(f)?f.value=i:null)},{default:e.withCtx(()=>[e.createBaseVNode("button",{onClick:e.withModifiers(I,["stop"])},"获取文件夹"),e.unref(u)?(e.openBlock(),e.createElementBlock("div",k," 加载中，请稍后... ")):(e.openBlock(),e.createElementBlock("div",y,[e.unref(l)&&e.unref(l).children&&e.unref(l).children.length?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["box-info",{showImg:e.unref(n)}])},[e.createVNode(w.default,{class:"file",items:e.unref(l).children,onClick:F},null,8,["items"])],2)):e.createCommentVNode("",!0),e.withDirectives(e.createBaseVNode("img",{ref_key:"imgRef",ref:h,src:""},null,512),[[e.vShow,e.unref(n)]]),e.withDirectives(e.createBaseVNode("video",{ref_key:"videoRef",ref:c,src:""},null,512),[[e.vShow,e.unref(r)]])]))]),_:1},8,["type","flowImg","modelValue"])}}},C=_._export_sfc(B,[["__scopeId","data-v-a3fd0aba"]]);m.default=C,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});
