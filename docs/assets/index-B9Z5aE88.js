import{_ as p}from"./index-BxT9c11c.js";import{_ as g,g as l,o as m,c as u,b as s,d as _,t as x,A as w,e as f,I as C,R as b,x as $,y as I,P as R}from"./index-D-FsN0zC.js";import{_ as U}from"./peter-BLkI9ajp.js";import"./index-BPSbJa6B.js";const y={setup(){const c=l(""),o=l({size:0,blobsize:0}),e=l(null),t=l(null);return{imgUrl:c,imgInfo:o,imgRef:e,compress:t,onChangeFn:r=>{let a=new FileReader;a.readAsDataURL(r),a.onload=n=>{c.value=a.result,o.value.size=n.total;let i=document.createElement("canvas");setTimeout(()=>{i.height=e.value.height,i.width=e.value.width,t.value.appendChild(i),i.getContext("2d").drawImage(e.value,0,0,e.value.width,e.value.height),i.toBlob(d=>{o.value.blobsize=d.size,new FormData().append("file",d)},"image/jpeg",.4)},1e3)}}}}},F={ref:"compress",class:"compress"},k={class:"compress-upload"},D={class:"info transition-color"},S=["src"];function z(c,o,e,t,h,r){const a=p;return m(),u("div",F,[s("div",k,[_(a,{onChange:t.onChangeFn},null,8,["onChange"])]),s("div",D,"原图大小："+x(t.imgInfo.size)+"，压缩后大小："+x(t.imgInfo.blobsize||0),1),s("img",{ref:"imgRef",src:t.imgUrl},null,8,S)],512)}const A=g(y,[["render",z],["__scopeId","data-v-e1a3feed"]]),B={class:"tailor"},N={class:"tailor-upload"},V=["src"],E={__name:"tailor",setup(c){const o=l(""),e=l(null),t=l(null);l({imgWidth:0,imgHeight:0,canvasWidth:0,canvasHeight:0,scale:0,left:0,top:0});const h=r=>{let a=new FileReader;a.readAsDataURL(r),a.onload=()=>{o.value=a.result;let n=e.value.getContext("2d");setTimeout(()=>{let i=200/t.value.height*t.value.naturalHeight,v=200/t.value.width*t.value.naturalWidth;n.drawImage(t.value,0,0,v,i,0,0,200,200)},1e3)}};return(r,a)=>{const n=p;return m(),u("div",B,[s("div",N,[_(n,{onChange:h})]),s("div",null,[w(" 原图： "),s("img",{src:f(o),ref_key:"imgRef",ref:t},null,8,V)]),C(s("div",null,[w(" 裁剪： "),s("canvas",{ref_key:"canvasRef",ref:e,height:"200",width:"200"},null,512)],512),[[b,f(o)]])])}}},H=g(E,[["__scopeId","data-v-a87fa85d"]]),L={setup(){return{imgUrl:l(""),saveScreen:()=>{}}}},T=c=>($("data-v-ecfa2c29"),c=c(),I(),c),W={class:"tailor"},j=T(()=>s("img",{src:U},null,-1));function P(c,o,e,t,h,r){return m(),u("div",W,[s("button",{onClick:o[0]||(o[0]=(...a)=>t.saveScreen&&t.saveScreen(...a))},"截图"),j])}const q=g(L,[["render",P],["__scopeId","data-v-ecfa2c29"]]),G={class:"filter-upload"},J=["src"],K={__name:"filter",setup(c){const o=l(""),e=l(null),t=l(null),h=a=>{let n=new FileReader;n.readAsDataURL(a),n.onload=()=>{o.value=n.result}},r=()=>{const a=document.createElement("canvas");a.height=e.value.height||"400px",a.width=e.value.width,t.value.appendChild(a);let n=a.getContext("2d");n.drawImage(e.value,0,0,e.value.width,e.value.height);let i=n.getImageData(0,0,e.value.width,e.value.height),v=i.data.length;for(let d=0;d<v;d++)d%2===0&&(i.data[d]=0);n.clearRect(0,0,e.value.width,e.value.height),n.putImageData(i,0,0)};return(a,n)=>{const i=p;return m(),u("div",{ref_key:"filter",ref:t,class:"filter"},[s("div",G,[_(i,{onChange:h})]),s("img",{src:f(o),ref_key:"imgRef",ref:e},null,8,J),f(o)?(m(),u("button",{key:0,onClick:r}," 点我添加滤镜 ")):R("",!0)],512)}}},M=g(K,[["__scopeId","data-v-67347722"]]),O={class:"ifrname-box box"},Q={class:"box-item"},X=s("div",{class:"iframe-box-title"},"图片压缩",-1),Y={class:"box-item"},Z=s("div",{class:"iframe-box-title"},"页面截图",-1),ee={class:"box-item"},te=s("div",{class:"iframe-box-title"},"滤镜",-1),ae={class:"box-item"},se=s("div",{class:"iframe-box-title"},"图片裁剪",-1),re={__name:"index",setup(c){return(o,e)=>(m(),u("div",O,[s("div",Q,[X,_(A)]),s("div",Y,[Z,_(q)]),s("div",ee,[te,_(M)]),s("div",ae,[se,_(H)])]))}};export{re as default};
