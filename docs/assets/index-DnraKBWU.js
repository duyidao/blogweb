import{_ as B}from"./index-83vho5UX.js";import{_ as x}from"./index-BNO2Hr6Y.js";import{_ as A,r as v,o as C,c as D,a as e,e as o,n as k,u as m,A as g,w as y}from"./index-csMSZZo1.js";import"./index-DzQiSyAL.js";const L={class:"iframe-box"},S={class:"upload-upload"},z={__name:"oneAndAll",setup(b){const a=v([]),d=r=>{a.value=[],Array.from(r).forEach(s=>{a.value.push(s)})},c=async()=>{let r=new FormData;a.value.forEach(s=>{r.append(s.name+"file",s),console.log("通过axios发请求，文件：",s.name)})};return(r,s)=>{const t=x;return C(),D("div",L,[e("div",S,[o(t,{needList:"",multiple:"",onChange:d})]),e("button",{onClick:c},"提交")])}}},R=A(z,[["__scopeId","data-v-81d446df"]]),$={class:"iframe-box"},F={class:"upload-upload"},w={class:"jindu"},I={class:"progress"},U={class:"progress-text"},T={__name:"slice",props:{size:{type:Number,default:0}},setup(b){const a=v({}),d=v(0),{size:c}=b,r=t=>{a.value={},d.value=0,a.value=t},s=async()=>{let t=0,n=a.value.size,u=new FormData;const _=setInterval(()=>{u.append(a.value.name,a.value.slice(t,t+c)),console.log("共"+n+"大小的文件，已上传了"+t+"大小的文件，占比"+d.value+"%"),t+=c,d.value=Math.min(t/n*100,100),t>=n&&clearInterval(_)},1e3)};return(t,n)=>{const u=x;return C(),D("div",$,[e("div",F,[o(u,{needList:"",onChange:r})]),e("button",{onClick:s},"提交"),e("div",w,[e("div",I,[e("div",{class:"progress-bar",style:k({width:m(d).toFixed(2)+"%"})},null,4)]),e("div",U,g(m(d).toFixed(2))+"%",1)])])}}},E=A(T,[["__scopeId","data-v-1e85889f"]]),j={class:"iframe-box"},N={class:"upload-upload"},M={__name:"breakpoint",setup(b){const a=v({}),d=v(0),c=s=>{a.value=s},r=async()=>{let s=2097152,t=localStorage.getItem(a.value.name)||0,n=new FormData,u=a.value.size;localStorage.setItem(a.value.name,t),setInterval(()=>{n.append(a.value.name,a.value.slice(t,t+s)),t+=s,d.value=Math.min(t/u*100,100)},1e3)};return(s,t)=>{const n=x;return C(),D("div",j,[e("div",N,[o(n,{needList:"",onChange:c})]),e("button",{onClick:r},"提交")])}}},O=A(M,[["__scopeId","data-v-3c4e9708"]]),V={class:"iframe-box"},J={class:"list-style-circle"},q={class:"flex-column"},G={class:"file"},H={class:"upload-upload"},K={class:"content"},P={class:"flex-column"},Q={class:"upload-upload"},W={class:"content"},X={class:"flex-column"},Y={class:"upload-upload"},Z={class:"flex-column"},ee={class:"flex-column-fileReader"},ae={class:"upload-upload"},se={class:"upload-upload"},te={class:"upload-upload"},oe={class:"upload-upload"},ne={class:"content-fileReader"},le={__name:"index",setup(b){const a=v({}),d=_=>{a.value=_},c=v({}),r=_=>{const l=_,i=new Blob([l],{type:l.type});c.value={size:i.size,type:i.type,name:l.name}},s=v({}),t=_=>{s.value=new FormData,s.value.append("file",_),s.value.append("username","John"),s.value.append("age",30),console.log("formData.value",s.value)},n=v(null),u=(_,l)=>{let i=_.target.files[0];const p=new FileReader;switch(p.addEventListener("load",f=>{const h=f.target.result;switch(console.log("fileData",h),l){case"readAsText":n.value=h;break;case"readAsArrayBuffer":n.value={byteLength:h.byteLength,detached:h.detached,maxByteLength:h.maxByteLength};break;case"readAsDataURL":n.value=h;break;case"readAsBinaryString":n.value=h;break}n.value=h}),l){case"readAsText":p.readAsText(i);break;case"readAsArrayBuffer":p.readAsArrayBuffer(i);break;case"readAsDataURL":p.readAsDataURL(i);break;case"readAsBinaryString":p.readAsBinaryString(i);break}};return(_,l)=>{const i=x,p=B;return C(),D("div",V,[o(p,{class:"upload-box",needCode:!1,title:"前置知识"},{default:y(()=>[e("ul",J,[e("li",q,[e("div",G,[e("div",H,[o(i,{info:"上传文件，file类型",onChange:d})]),e("div",K,[e("div",null,"文件名: "+g(m(a).name||"-"),1),e("div",null,"文件类型: "+g(m(a).type||"-"),1),e("div",null,"文件大小: "+g(m(a).size||0)+"bytes",1)])])]),e("li",P,[e("div",null,[e("div",Q,[o(i,{info:"上传文件，blob类型",onChange:r})]),e("div",W,[e("div",null,"文件名: "+g(m(c).name),1),e("div",null,"文件类型: "+g(m(c).type),1),e("div",null,"文件大小: "+g(m(c).size)+"bytes",1)])])]),e("li",X,[e("div",null,[e("div",Y,[o(i,{info:"上传文件，formData类型",onChange:t})])])]),e("li",Z,[e("div",ee,[e("div",ae,[o(i,{info:"上传文件，fileReader类型readAsText",onChange:l[0]||(l[0]=f=>u(f,"readAsText"))})]),e("div",se,[o(i,{info:"上传文件，fileReader类型readAsArrayBuffer",onChange:l[1]||(l[1]=f=>u(f,"readAsArrayBuffer"))})]),e("div",te,[o(i,{info:"上传文件，fileReader类型readAsDataURL",onChange:l[2]||(l[2]=f=>u(f,"readAsDataURL"))})]),e("div",oe,[o(i,{info:"上传文件，fileReader类型readAsBinaryString",onChange:l[3]||(l[3]=f=>u(f,"readAsBinaryString"))})]),e("div",ne,g(m(n)),1)])])])]),_:1}),o(p,{class:"upload-box",needCode:!1,title:"单文件上传"},{default:y(()=>[o(R)]),_:1}),o(p,{class:"upload-box",needCode:!1,title:"切片上传"},{default:y(()=>[o(E,{size:10*1024*1024})]),_:1}),o(p,{class:"upload-box",needCode:!1,title:"断点续传"},{default:y(()=>[o(O)]),_:1})])}}},ue=A(le,[["__scopeId","data-v-6783025a"]]);export{ue as default};
