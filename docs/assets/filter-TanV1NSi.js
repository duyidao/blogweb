import{_ as h}from"./index-PbwznSNn.js";import{_ as g,r,o as c,c as i,a as d,e as p,u,V as v}from"./index-B4bBUjY3.js";import"./index-CKO9WkJI.js";const w={class:"filter-upload"},C=["src"],k={__name:"filter",setup(x){const o=r(""),e=r(null),s=r(null),_=a=>{let t=new FileReader;t.readAsDataURL(a),t.onload=()=>{o.value=t.result}},f=()=>{const a=document.createElement("canvas");a.height=e.value.height||"400px",a.width=e.value.width,s.value.appendChild(a);let t=a.getContext("2d");t.drawImage(e.value,0,0,e.value.width,e.value.height);let l=t.getImageData(0,0,e.value.width,e.value.height),m=l.data.length;for(let n=0;n<m;n++)n%2===0&&(l.data[n]=0);t.clearRect(0,0,e.value.width,e.value.height),t.putImageData(l,0,0)};return(a,t)=>{const l=h;return c(),i("div",{ref_key:"filter",ref:s,class:"filter"},[d("div",w,[p(l,{onChange:_})]),d("img",{src:u(o),ref_key:"imgRef",ref:e},null,8,C),u(o)?(c(),i("button",{key:0,onClick:f}," 点我添加滤镜 ")):v("",!0)],512)}}},I=g(k,[["__scopeId","data-v-09e8af05"]]);export{I as default};
