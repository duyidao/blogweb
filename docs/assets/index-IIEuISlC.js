import{_ as B}from"./index-BHfwuLRb.js";import{_ as C,r as u,h as R,o as l,c as s,a as o,d as S,A as f,F as x,Q as m,I as N,J as I,u as $,B as F}from"./index-D8DiQauG.js";const L={class:"upload"},V=["accept","multiple"],w={key:0,class:""},A={key:0,class:"upload-list"},M=["onClick"],D={__name:"index",props:{borderRadius:{type:[String,Number],default:"15"},info:{type:String,default:"点击上传文件"},limit:{type:Number,default:9},multiple:{type:Boolean,default:!1},accept:{type:String,default:""},needList:{type:Boolean,default:!1}},emits:["change"],setup(n,{emit:_}){const d=u(null),r=u(null),{borderRadius:h,limit:y,multiple:g,accept:E}=n;R(()=>{r.value.style.setProperty("--bdrd",h+"px")});const c=_,v=()=>{d.value.click()},e=u([]),k=t=>{e.value=Array.from(t.target.files),y===1||!g?c("change",e.value[0]):c("change",e.value)},b=t=>{const p=e.value.findIndex(i=>i.name===t.name);e.value.splice(p,1),c("change",e.value)};return(t,p)=>{const i=B;return l(),s("div",L,[o("div",{ref_key:"uploadRef",ref:r,class:"my-upload",onClick:m(v,["stop"])},[o("input",{ref_key:"fileRef",ref:d,accept:n.accept,type:"file",name:"",id:"",multiple:n.multiple,onChange:k},null,40,V),S(i,{name:"file",width:"35",height:"35"}),t.$slots.default?x(t.$slots,"default",{key:1},void 0,!0):(l(),s("span",w,f(n.info),1))],512),n.needList?(l(),s("div",A,[(l(!0),s(N,null,I($(e),a=>(l(),s("div",{key:a.name,class:"upload-item"},[o("span",null,f(a.name.length<=35?a.name:a.name.slice(0,25)+"....."+a.name.substr(-4)),1),o("span",{class:"icon",onClick:m(J=>b(a),["stop"])},null,8,M)]))),128))])):F("",!0)])}}},U=C(D,[["__scopeId","data-v-bb6a89ac"]]);export{U as _};
