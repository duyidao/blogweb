import{_ as p}from"./index-5J9dLsPs.js";import{_ as g,r as a,o as u,c as f,a as l,e as h,y as m}from"./index-Debkh1Ib.js";import"./index-BBm7cKaK.js";const v={setup(){const c=a(""),n=a({size:0,blobsize:0}),e=a(null),o=a(null);return{imgUrl:c,imgInfo:n,imgRef:e,compress:o,onChangeFn:i=>{let s=new FileReader;s.readAsDataURL(i),s.onload=_=>{c.value=s.result,n.value.size=_.total;let t=document.createElement("canvas");setTimeout(()=>{t.height=e.value.height,t.width=e.value.width,o.value.appendChild(t),t.getContext("2d").drawImage(e.value,0,0,e.value.width,e.value.height),t.toBlob(r=>{n.value.blobsize=r.size,new FormData().append("file",r)},"image/jpeg",.4)},1e3)}}}}},z={ref:"compress",class:"compress"},C={class:"compress-upload"},b={class:"info"},w=["src"];function x(c,n,e,o,d,i){const s=p;return u(),f("div",z,[l("div",C,[h(s,{onChange:o.onChangeFn},null,8,["onChange"])]),l("div",b,"原图大小："+m(o.imgInfo.size)+"，压缩后大小："+m(o.imgInfo.blobsize||0),1),l("img",{ref:"imgRef",src:o.imgUrl},null,8,w)],512)}const y=g(v,[["render",x],["__scopeId","data-v-db292598"]]);export{y as default};
