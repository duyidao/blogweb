import{_ as h}from"./index-DVgj2YNw.js";import{_ as p,j as r,o as c,c as i,a as d,k as g,u,O as v}from"./index-DLqeNj1X.js";import"./index-Dqgskfkp.js";const C={class:"filter-upload"},k=["src"],w={__name:"filter",setup(x){const o=r(""),e=r(null),s=r(null),_=a=>{let t=new FileReader;t.readAsDataURL(a),t.onload=()=>{o.value=t.result}},f=()=>{const a=document.createElement("canvas");a.height=e.value.height||"400px",a.width=e.value.width,s.value.appendChild(a);let t=a.getContext("2d");t.drawImage(e.value,0,0,e.value.width,e.value.height);let l=t.getImageData(0,0,e.value.width,e.value.height),m=l.data.length;for(let n=0;n<m;n++)n%2===0&&(l.data[n]=0);t.clearRect(0,0,e.value.width,e.value.height),t.putImageData(l,0,0)};return(a,t)=>{const l=h;return c(),i("div",{ref_key:"filter",ref:s,class:"filter"},[d("div",C,[g(l,{onChange:_})]),d("img",{src:u(o),ref_key:"imgRef",ref:e},null,8,k),u(o)?(c(),i("button",{key:0,onClick:f}," 点我添加滤镜 ")):v("",!0)],512)}}},I=p(w,[["__scopeId","data-v-f9785ad8"]]);export{I as default};
